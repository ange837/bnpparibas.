<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Espace Client BNP Paribas</title>

  <!-- Styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"/>
  <link rel="stylesheet" href="style2.css">
  
  <!-- Ionicons CDN -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <style>
    /* Styles pour la navigation */
    .navigation_bar {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #fff;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    .navigation ul {
      display: flex;
      justify-content: space-around;
      position: relative;
      margin: 0;
      padding: 0;
      list-style: none;
    }
    .navigation .list {
      position: relative;
      text-align: center;
      padding: 10px 0;
      flex: 1;
      cursor: pointer;
    }
    .navigation .list.active span {
      color: #00966C;
      font-weight: bold;
    }
    .navigation .indicator {
      position: absolute;
      bottom: 0;
      width: 50px;
      height: 3px;
      background-color: #00966C;
      transition: 0.3s ease;
      left: 0;
    }
  </style>
</head>
<body>
  <div style="text-align: center; margin-top: 10px;">
    <img src="bnp.png" alt="BNP Logo" height="50">
  </div>

  <div class="welcome"><h4>Bienvenue dans votre espace client</h4></div>

  <div class="logout">
    <i class="fas fa-power-off" style="font-size: 20px; color: red"></i>
    <a href="index.html">Déconnexion</a>
  </div>

  <div class="container">
    <h2>M. Aurel Baudin</h2>
    <div class="country">
      <i class="fas fa-map-marker-alt" style="font-size: 20px; color: skyblue;"></i> Lile -  France
    </div>
    <div class="lastest">Dernière connexion : <span id="timenow"></span></div>
    <hr />
    <div class="gestionnaire">Votre gestionnaire : <span>M. Pierre Gossard</span></div>
    <p>Statut du compte : <span class="blink" style="color: red;">Votre compte est bloqué</span></p>
    <div class="solde">
      <h3>Solde : <span style="color: green;">411.000 €</span></h3>
      <marquee behavior="" direction=""> 
        <p class="deblocage">Frais de déblocage : <span style="color: red; font-weight: bold;">18.000 €</span></p>
      </marquee>
    </div>
  </div>

  <div class="container">
    <h2>Comptes et contrats / Mes comptes</h2>
    <div class="band">
      <div class="text">
        <h3 style="color: gray;">Liquidité N******0254</h3>
        <h3>10.754,25 €</h3>
      </div>
      <div class="icon">
        <i class="fas fa-eye"></i>
      </div>
    </div>
  </div>

  <div class="container">
    <h4>Comptes Courants | Cartes</h4>
    <div class="info_comptes">
      <div class="text"><p>*******2284</p><p>M. Aurel Baudin</p></div>
      <div class="montant" style="color: green;">+ 522.000 €</div>
    </div>
  </div>

  <div class="container">
    <h4>Crédit</h4>
    <div class="info_comptes">
      <div class="text"><p>Crédit auto</p></div>
      <div class="montant" style="color: red;">- 1.000 €</div>
    </div>
  </div>

  <div class="container">
    <h4>Épargnes et placements</h4>
    <div class="info_comptes">
      <div class="text"><p>****** *****5462</p><p>Livret épargnes</p><p>M. Aurel Baudin</p></div>
      <div class="montant" style="color: green;">+ 400.000 €</div>
    </div>
  </div>

  <div class="container" id="stats">
    <h4><i class="fas fa-chart-line"></i> Statistiques mensuelles</h4>
    <canvas id="expensesChart" height="100"></canvas>
    <table class="stats-table">
      <thead>
        <tr><th>Mois</th><th>Dépenses (€)</th></tr>
      </thead>
      <tbody>
        <tr><td>Septembre</td><td>2640</td></tr>
        <tr><td>Octobre</td><td>3500</td></tr>
        <tr><td>Novembre</td><td>3860</td></tr>
        <tr><td>Décembre</td><td>2000</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Barre de navigation -->
  <div class="navigation_bar">
    <div class="navigation">
      <ul>
        <li class="list">
          <a href="inter.html">
            <ion-icon name="cash-outline"></ion-icon>
            <span>Solde</span>
          </a>
        </li>
        <li class="list">
          <a href="histo.html">
            <ion-icon name="time-outline"></ion-icon>
            <span>Historique</span>
          </a>
        </li>
        <li class="list">
          <a href="vir.html">
            <ion-icon name="swap-horizontal-outline"></ion-icon>
            <span>Virement</span>
          </a>
        </li>
        <li class="list">
          <a href="cart.html">
            <ion-icon name="card-outline"></ion-icon>
            <span>Cartes</span>
          </a>
        </li>
        <li class="list">
          <a href="rib.html">
            <ion-icon name="document-outline"></ion-icon>
            <span>RIB</span>
          </a>
        </li>
        <div class="indicator"></div>
      </ul>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <script>
    // Affichage de la date
    document.addEventListener('DOMContentLoaded', function () {
      const now = new Date();
      const day = now.getDate().toString().padStart(2, '0');
      const month = (now.getMonth() + 1).toString().padStart(2, '0');
      const year = now.getFullYear();
      document.getElementById("timenow").textContent = `${day} / ${month} / ${year}`;

      // Graphique Chart.js
      const ctx = document.getElementById('expensesChart').getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Septembre', 'Octobre', 'Novembre', 'Décembre'],
          datasets: [{
            label: 'Dépenses (€)',
            data: [2640, 3500, 3860, 2000],
            backgroundColor: '#00966C',
            borderRadius: 5
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { display: false } },
          scales: { y: { beginAtZero: true } }
        }
      });
    });

    // Pop-up compte bloqué
    document.addEventListener('DOMContentLoaded', function () {
      Swal.fire({
        title: '⚠️ Compte bloqué',
        html: '<b>Votre compte est actuellement bloqué.</b><br><br>Veuillez régulariser la situation auprès de votre gestionnaire pour rétablir l\'accès complet.',
        icon: 'warning',
        confirmButtonText: 'Contacter mon gestionnaire',
        confirmButtonColor: '#00966C',
        background: '#fff',
        color: '#333',
        customClass: {
          popup: 'bnp-popup',
          title: 'bnp-title',
          confirmButton: 'bnp-button'
        }
      });
    });

    // Gestion de l'indicateur de la barre de navigation
    const navItems = document.querySelectorAll('.navigation .list');
    const indicator = document.querySelector('.navigation .indicator');

    function updateActiveNav() {
      const currentPage = window.location.pathname.split("/").pop();
      navItems.forEach(item => item.classList.remove('active'));

      const activeItem = Array.from(navItems).find(item => {
        const link = item.querySelector('a');
        return link.getAttribute('href') === currentPage;
      }) || navItems[0];

      activeItem.classList.add('active');
      indicator.style.left = `${activeItem.offsetLeft + (activeItem.offsetWidth - indicator.offsetWidth)/2}px`;
    }

    window.addEventListener('load', updateActiveNav);

    // Animation de l'indicateur lors du clic
    navItems.forEach(item => {
      item.addEventListener('click', () => {
        indicator.style.left = `${item.offsetLeft + (item.offsetWidth - indicator.offsetWidth)/2}px`;
      });
    });
  </script>
</body>
</html>
